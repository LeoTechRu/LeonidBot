{% extends "layout.html" %}
{% block title %}Админ{% endblock %}
{% block content %}
{% include "header.html" %}
<div class="ui-layout">
    <div id="main-content">
        <section id="users">
            <h1>Users</h1>
            {% if users %}
            <table border="1" cellpadding="4" cellspacing="0">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>username</th>
                        <th>first_name</th>
                        <th>last_name</th>
                        <th>role</th>
                    </tr>
                </thead>
                <tbody>
                {% for user in users %}
                    <tr>
                        <td>{{ user.telegram_id }}</td>
                        <td>{{ user.username or '' }}</td>
                        <td>{{ user.first_name }}</td>
                        <td>{{ user.last_name or '' }}</td>
                        <td>{{ UserRole(user.role).name }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p>нет пользователей</p>
            {% endif %}
        </section>

        <section id="groups">
            <h1>Groups</h1>
            <ul>
                {% for item in groups %}
                <li>
                    {{ item.group.title }} ({{ item.group.participants_count }} members)
                    <ul>
                        {% for member in item.members %}
                        <li>{{ member.first_name }}</li>
                        {% endfor %}
                    </ul>
                </li>
                {% endfor %}
            </ul>
        </section>

        <section id="settings">
            <h1>Админ настройки</h1>
            <p>Настройки администратора находятся в разработке.</p>
        </section>
    </div>
</div>
{% endblock %}

